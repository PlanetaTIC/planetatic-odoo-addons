<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2018 PlanetaTIC - Francisco Fernández <ffernandez@planetatic.com>
     Copyright 2018 PlanetaTIC - Lluís Rovira <lrovira@planetatic.com>
     License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl). -->
<odoo>

<record id="view_picking_form" model="ir.ui.view">
    <field name="name">sale_purchase_rel.stock.picking.form</field>
    <field name="model">stock.picking</field>
    <field name="inherit_id" ref="stock.view_picking_form"/>
    <field name="arch" type="xml">
        <xpath expr="//header/field[@name='state']" position="before">
            <field name="out_in_picking_ids" invisible="1"/>
            <button type="object" name="action_view_out_in_pickings" class="oe_highlight" icon="fa-arrow-circle-right" attrs="{'invisible': ['|', ('out_in_picking_ids', '=', False), ('out_in_picking_ids', '=', [])]}" string="View In Pickings"/>
            <field name="in_out_picking_ids" invisible="1"/>
            <button type="object" name="action_view_in_out_pickings" class="oe_highlight" icon="fa-arrow-circle-left" attrs="{'invisible': ['|', ('in_out_picking_ids', '=', False), ('in_out_picking_ids', '=', [])]}" string="View Out Pickings"/>
        </xpath>
    </field>
</record>

<record id="view_move_picking_tree" model="ir.ui.view">
    <field name="name">sale_purchase_rel.stock.move.tree</field>
    <field name="model">stock.move</field>
    <field name="inherit_id" ref="stock.view_move_picking_tree"/>
    <field name="arch" type="xml">
        <field name="state" position="after">
            <field name="out_in_picking_ids" invisible="1"/>
            <button type="object" name="action_view_out_in_pickings" class="oe_highlight" icon="fa-arrow-circle-right" attrs="{'invisible': ['|', ('out_in_picking_ids', '=', False), ('out_in_picking_ids', '=', [])]}" string="View In Pickings"/>
            <field name="in_out_picking_id" invisible="1"/>
            <button type="object" name="action_view_in_out_picking" class="oe_highlight" icon="fa-arrow-circle-left" attrs="{'invisible': [('in_out_picking_id', '=', False)]}" string="View Out Picking"/>
        </field>
    </field>
</record>

</odoo>
